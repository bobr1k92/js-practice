{"mappings":"AAEA,MAAMA,EAAO,CACTC,WAAYC,SAASC,cAAc,mBACnCC,kBAAmBF,SAASC,cAAc,0BAC1CE,YAAaH,SAASC,cAAc,8BAGlCG,EAAiB,ICRR,MAMXC,gBACIC,QAAQC,IAAIC,MACZ,MAKMC,EACD,uCAAuCD,KAAKE,sCAAsCF,KAAKG,OAE/F,OAAOC,MAAMH,EARM,CACZI,QAAS,CACLC,cAAe,sCAO1BC,MAAKC,GAAOA,EAAIC,SAChBF,MAAKG,IACFV,KAAKW,gBAEED,EAAKE,W,CAIhBD,gBACIX,KAAKG,MAAQ,C,CAGjBU,YACIb,KAAKG,KAAO,C,CAGZW,YACE,OAAOd,KAAKE,W,CAGdY,UAAMC,GACNf,KAAKE,YAAca,C,CArCvBC,cACAhB,KAAKE,YAAc,GACnBF,KAAKG,KAAO,C,GDOhBb,EAAKC,WAAW0B,iBAAiB,UAIjC,SAAkBC,GACdA,EAAEC,iBAEFvB,EAAekB,MAAQI,EAAEE,cAAcC,SAASP,MAAMQ,MACtD1B,EAAeiB,YACfjB,EAAeC,gBAAgBU,MAAKK,GAAYd,QAAQC,IAAIa,I,IARhEtB,EAAKK,YAAYsB,iBAAiB,SAWlC,WACIrB,EAAeC,gBAAgBU,MAAKK,GAAYd,QAAQC,IAAIa,I","sources":["src/js/search-cat.js","src/js/api-service.js"],"sourcesContent":["import NewsApiSevice from './api-service';\n\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    articlesContainer: document.querySelector('.js-articles-container'),\n    loadMoreBtn: document.querySelector('[data-action=\"load-more\"]')\n}\n\nconst newsApiService = new NewsApiSevice();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    newsApiService.query = e.currentTarget.elements.query.value;\n    newsApiService.resetPage();\n    newsApiService.fetchArticles().then(articles => console.log(articles));\n}\n\nfunction onLoadMore() {\n    newsApiService.fetchArticles().then(articles => console.log(articles));\n}","export default class NewsApiService {\n    constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    }\n\n    fetchArticles() {\n        console.log(this);\n        const options = {\n            headers: {\n                Authorization: 'b5f9a10038a94cda93723e0a1eeb5c6e',\n            },\n        }\n        const url =\n             `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&${this.page}`;\n             \n     return fetch(url, options)\n    .then(res => res.json())\n    .then(data => {\n        this.incrementPage();\n\n        return data.articles;\n      });\n    }\n\n    incrementPage() {\n        this.page += 1;\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n          return this.searchQuery;  \n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n}"],"names":["$d7660f12416f9124$var$refs","searchForm","document","querySelector","articlesContainer","loadMoreBtn","$d7660f12416f9124$var$newsApiService","fetchArticles","console","log","this","url","searchQuery","page","fetch","headers","Authorization","then","res","json","data","incrementPage","articles","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"search-cat.3c381e9a.js.map"}